<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-based multiomics profiling for personalized prediction of cardiovascular disease: A prospective UK Biobank study</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <div class="title">
            AI-based multiomics profiling for personalized prediction of cardiovascular disease: A prospective UK Biobank study
        </div>
        <div class="author">
            Author: Yan Luo, Nan Zhang, Jiannan Yang, Mengyao Cui, Kelvin K.F. Tsoi, Gregory Y.H. Lip, Tong Liu, Qingpeng Zhang
        </div>
    </div>
    
    <div class="content">
        <!-- Navigation tabs -->
        <div class="tabs">
            <div class="tab active" onclick="switchTab('personalized')">Personalized Risk Estimator</div>
            <div class="tab" onclick="switchTab('population')">Populational Predictive Performance</div>
        </div>
        
        <!-- Individual Risk Calculator tab panel -->
        <div id="personalized" class="tab-content active">
            <div class="instructions">
                <h2>Instructions</h2>
                <p>This section shows the personalized cardiovascular disease risk estimator. Please select disease and fill out all fields to calculate risk.</p>
            </div>

        <form id="risk-calculator-form">
            <!-- Disease selection dropdown -->
            <div class="form-group">
                <label class="form-label">Select Disease:</label>
                <select class="form-control" id="disease-select" name="disease">
                    <option selected>Coronary artery disease</option>
                    <option>Stroke</option>
                    <option>Heart failure</option>
                    <option>Atrial fibrillation</option>
                    <option>Ventricular arrhythmias</option>
                    <option>Peripheral artery disease</option>
                    <option>Abdominal aortic aneurysm</option>
                    <option>Venous thromboembolism</option>
                    <option>Cardiovascular death</option>
                </select>
            </div>

            <div class="form-container"> 
                <!-- Demographic information -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> Age (years) </div>
                        <input type="number" id="age" class="form-input" min="39" max="70" oninput="standardizeValue('age')">
                        <div class="form-hint">Age must be between 39-70</div>
                        <div id="age-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label">
                            Sex
                        </div>
                        <div class="button-group">
                            <div class="button-option">Male</div>
                            <div class="button-option">Female</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label">
                            Ethnicity 
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">White</div>
                            <div class="button-option" data-value="2">Black</div>
                            <div class="button-option" data-value="3">Asian</div>
                            <div class="button-option" data-value="4">Others</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label">
                            Townsend Deprivation Index
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Measure of material deprivation within a population, higher values indicate greater deprivation.</span>
                            </div>
                        </div>
                        <div class="slider-container">
                            <input type="range" class="slider" id="townsend">
                            <div>Value: <span id="townsend-value">--</span></div>
                        </div>
                    </div>
                </div>    

                <!-- Healthy lifestyles -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> Current Smoking </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Daily Alcohol Intake </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> 
                            Healthy Sleep
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Sleep duration ranging between 7 and 9 hours per night.</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                </div>
                <div class="form-row">    
                    <div class="form-group">
                        <div class="form-label"> 
                            Physical activity
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">At least 150 minutes of walking or moderate activity per week or 75 minutes of vigorous activity (2017 UK Physical activity guidelines).</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> 
                            Healthy diet
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">
                                    At least 4 of the following 7 criteria:
                                    <ul>
                                        <li>Vegetables: ≥3 servings/day;</li>
                                        <li>Fruits: ≥3 servings/day;</li>
                                        <li>Fish: ≥2 servings/week;</li>
                                        <li>Processed meats: ≤1 serving/week;</li>
                                        <li>Unprocessed red meats: ≤1.5 servings/week;</li>
                                        <li>Whole grains: ≥3 servings/day;</li>
                                        <li>Refined grains: ≤1.5 servings/day.</li>
                                    </ul>
                                </span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="form-label"> 
                            Social connection
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">
                                    No more than one of the following criteria:
                                    <ul>
                                        <li>Living alone;</li>
                                        <li>Friends and family visit less than once a month;</li>
                                        <li>No participation in social activities at least weekly.</li>
                                    </ul>
                                </span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                </div>

                <!-- Family disease history -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label">
                            Family History of Heart Disease
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Father, mother, or siblings ever had heart disease.</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div type="button" class="button-option" data-value="1">Yes</div>
                            <div type="button" class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label">
                            Family History of Stroke
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Father, mother, or siblings ever had stroke.</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label">
                            Family History of Hypertension
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Father, mother, or siblings ever had hypertension.</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label">
                            Family History of Diabetes
                            <div class="info-tooltip">
                                <span class="info-icon">i</span>
                                <span class="tooltip-text">Father, mother, or siblings ever had diabetes.</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                </div>

                <!-- Disease and medication history -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> History of Hypertension </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> History of Diabetes </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Lipid-lowering Medication </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Antihypertensive Medication </div>
                        <div class="button-group">
                            <div class="button-option" data-value="1">Yes</div>
                            <div class="button-option" data-value="0">No</div>
                        </div>
                    </div>
                </div>  

                <!-- Physical measurements -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> Systolic Blood Pressure (mmHg) </div>
                        <input type="number" id="sbp" class="form-input" min="90" max="200" oninput="standardizeValue('sbp')">
                        <div id="sbp-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Diastolic Blood Pressure (mmHg) </div>
                        <input type="number" id="dbp" class="form-input" min="60" max="130" oninput="standardizeValue('dbp')">
                        <div id="dbp-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Height (cm) </div>
                        <input type="number" id="height" class="form-input" min="100" max="250" oninput="standardizeValue('height')">
                        <div id="height-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Weight (kg) </div>
                        <input type="number" id="weight" class="form-input" min="30" max="200" oninput="standardizeValue('weight')">
                        <div id="weight-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Waist Circumference (cm) </div>
                        <input type="number" id="waist_cir" class="form-input" min="50" max="150" oninput="standardizeValue('waist_cir')">
                        <div id="waist_cir-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Waist-Hip Ratio </div>
                        <input type="number" id="waist_hip_ratio" class="form-input" step="0.01" oninput="standardizeValue('waist_hip_ratio')">
                        <div id="waist_hip_ratio-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Body Mass Index (kg/m^2) </div>
                        <input type="number" id="bmi" class="form-input" step="0.1" oninput="standardizeValue('bmi')">
                        <div id="bmi-std" class="standard-value"></div>
                    </div>
                </div>
                
                <!-- Blood count -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> Leukocyte Count (10^9 cells/L) </div>
                        <input type="number" id="wbc" class="form-input" step="0.01" oninput="standardizeValue('wbc')">
                        <div id="wbc-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Lymphocyte Count (10^9 cells/L) </div>
                        <input type="number" id="lc" class="form-input" step="0.01" oninput="standardizeValue('lc')">
                        <div id="lc-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Monocyte Count (10^9 cells/L) </div>
                        <input type="number" id="mc" class="form-input" step="0.01" oninput="standardizeValue('mc')">
                        <div id="mc-std" class="standard-value"></div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> Neutrophill Count (10^9 cells/L) </div>
                        <input type="number" id="nc" class="form-input" step="0.01" oninput="standardizeValue('nc')">
                        <div id="nc-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Eosinophill Count (10^9 cells/L) </div>
                        <input type="number" id="eos" class="form-input" step="0.01" oninput="standardizeValue('eos')">
                        <div id="eos-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Basophill Count (10^9 cells/L) </div>
                        <input type="number" id="baso" class="form-input" step="0.01" oninput="standardizeValue('baso')">
                        <div id="baso-std" class="standard-value"></div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label"> Platelet Count (10^9 cells/L) </div>
                        <input type="number" id="plt" class="form-input" step="0.01" oninput="standardizeValue('plt')">
                        <div id="plt-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Haematocrit (%) </div>
                        <input type="number" id="hct" class="form-input" step="0.1" oninput="standardizeValue('hct')">
                        <div id="hct-std" class="standard-value"></div>
                    </div>
                    <div class="form-group">
                        <div class="form-label"> Haemoglobin (g/dL) </div>
                        <input type="number" id="hb" class="form-input" step="0.1" oninput="standardizeValue('hb')">
                        <div id="hb-std" class="standard-value"></div>
                    </div>
                </div>

                <!-- Multiomics scores -->
                <div class="form-row">
                    <div class="form-group">
                        <div class="form-label">Polygenic Risk Score</div>
                        <div class="slider-container">
                            <input type="range" class="slider" id="prs">
                            <div>Value: <span id="prs-value">--</span></div>
                        </div> 
                    </div>
                    <div class="form-group">
                        <div class="form-label">MetScore</div>
                        <div class="slider-container">
                            <input type="range" class="slider" id="metscore">
                            <div>Value: <span id="metscore-value">--</span></div>
                        </div> 
                    </div>
                    <div class="form-group">
                        <div class="form-label">ProScore</div>
                        <div class="slider-container">
                            <input type="range" class="slider" id="proscore">
                            <div>Value: <span id="proscore-value">--</span></div>
                        </div> 
                    </div>
                </div>
                
            </div>
            
            <div class="note">
                <strong>Note:</strong> Townsend Deprivation Index, Polygenic Risk Score, MetScore, and ProScore are relative values. 
                The values selected by users will be mapped to the corresponding percentiles of the actual population distribution. 
                Generally, the higher the percentile, the higher the disease risk.
            </div>

            <!-- Calculate Risk Button -->
            <button id="calculate-risk-button" class="btn btn-primary" type="button">Calculate Risk</button>
        </form>

            <!-- Results display section (initially hidden) -->
            <div id="risk-results" style="display: none;">
                <div class="performance-metrics">
                    <div class="metric-card">
                        <div class="metric-title">10-Year Risk For <span id="selected-disease-name">Coronary artery disease</span></div>
                        <div class="metric-value" id="disease-risk">--</div>
                        <div class="metric-description">Probability of developing <span id="selected-disease-desc">coronary artery disease</span> in the next 10 years</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Population Predictive Performance -->
        <div id="population" class="tab-content">
            <div class="instructions">
                <h2>Instructions</h2>
                <p>This section shows the predictive performance of models trained on various combinations of polygenic risk score (PRS), 
                    MetScore, ProScore, and three predefined clinical predictor sets (i.e., AgeSex, Clin, and PANEL).
                    Please select cardiovascular disease and predictor.</p>
            </div>
            
            <!-- Select Cardiovascular Disease -->
            <div class="form-group">
                <label class="form-label">Select Cardiovascular Disease:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="cvd" value="cad"> Coronary artery disease</label>
                    <label><input type="checkbox" name="cvd" value="stroke"> Stroke</label>
                    <label><input type="checkbox" name="cvd" value="hf"> Heart failure</label>
                    <label><input type="checkbox" name="cvd" value="af"> Atrial fibrillation</label>
                    <label><input type="checkbox" name="cvd" value="va"> Ventricular arrhythmias</label>
                    <label><input type="checkbox" name="cvd" value="pad"> Peripheral artery disease</label>
                    <label><input type="checkbox" name="cvd" value="aaa"> Abdominal aortic aneurysm</label>
                    <label><input type="checkbox" name="cvd" value="vt"> Venous thromboembolism</label>
                    <label><input type="checkbox" name="cvd" value="cvd_death"> Cardiovascular death</label>
                </div>
            </div>

            <!-- Select Predictor -->
            <div class="form-group">
                <label class="form-label">Select Predictor:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="predictor" value="prs"> PRS </label>
                    <label><input type="checkbox" name="predictor" value="metscore"> MetScore </label>
                    <label><input type="checkbox" name="predictor" value="proscore"> ProScore </label>
                    <label><input type="checkbox" name="predictor" value="agesex" class="exclusive"> AgeSex </label>
                    <label><input type="checkbox" name="predictor" value="clin" class="exclusive"> Clin </label>
                    <label><input type="checkbox" name="predictor" value="panel" class="exclusive"> PANEL </label>
                </div>
            </div>

            <!-- Generate Results Button -->
            <button id="generate-results-button" class="btn btn-primary"> Generate Results </button>

            <div class="model-comparison">
                <h3>Model Performance Comparison</h3>
                <div class="chart-container">
                    <div class="chart" id="performance-chart">
                        <!-- Chart will be rendered here -->
                    </div>
                </div>

                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Outcome</th>
                            <th>Mean C-index</th>
                            <th>95% Confidence Interval</th>
                        </tr>
                    </thead>
                    <tbody id="results-table-body">
                        <!-- Results will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <script src="scripts.js"></script>
</body>
</html>
